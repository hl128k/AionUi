# è‡ªåŠ¨æ›´æ–°åŠŸèƒ½æ‰‹åŠ¨æµ‹è¯•æŒ‡å—

## æµ‹è¯•ç¯å¢ƒå‡†å¤‡

1. ç¡®ä¿åº”ç”¨æ­£å¸¸å¯åŠ¨ï¼š`npm start`
2. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·æŸ¥çœ‹æ—¥å¿—
3. å‡†å¤‡æµ‹è¯•æ•°æ®å’Œé…ç½®

## æµ‹è¯•ç”¨ä¾‹

### TC001: åº”ç”¨å¯åŠ¨æ—¶è‡ªåŠ¨æ£€æŸ¥
**ç›®çš„**: éªŒè¯åº”ç”¨å¯åŠ¨æ—¶æ˜¯å¦è‡ªåŠ¨æ£€æŸ¥å¼ºåˆ¶æ›´æ–°

**æ­¥éª¤**:
1. é‡æ–°å¯åŠ¨åº”ç”¨ `npm start`
2. è§‚å¯Ÿæ§åˆ¶å°æ—¥å¿—

**æœŸæœ›ç»“æœ**:
```
[MCP:INFO] Initializing Auto-Update Bridge Provider 
[MCP:INFO] Auto-Update Bridge Provider initialized successfully 
[MCP:DEBUG] Checking for force update 
[MCP:INFO] Force update check completed { forceUpdateRequired: false }
```

**çŠ¶æ€**: âœ… é€šè¿‡

### TC002: å…³äºé¡µé¢æ›´æ–°æ£€æŸ¥
**ç›®çš„**: éªŒè¯UIä¸­çš„æ‰‹åŠ¨æ›´æ–°æ£€æŸ¥åŠŸèƒ½

**æ­¥éª¤**:
1. æ‰“å¼€åº”ç”¨
2. å¯¼èˆªåˆ° è®¾ç½® > å…³äºæˆ‘ä»¬
3. ç‚¹å‡»"æ£€æŸ¥æ›´æ–°"æŒ‰é’®
4. è§‚å¯ŸUIçŠ¶æ€å˜åŒ–

**æœŸæœ›ç»“æœ**:
- æŒ‰é’®çŠ¶æ€å˜ä¸º"æ£€æŸ¥ä¸­..."
- æ˜¾ç¤ºå½“å‰ç‰ˆæœ¬ä¿¡æ¯
- å®Œæˆåæ˜¾ç¤º"å·²æ˜¯æœ€æ–°ç‰ˆæœ¬"æˆ–æ›´æ–°å¯ç”¨ä¿¡æ¯

**çŠ¶æ€**: ğŸŸ¡ å¾…æµ‹è¯•

### TC003: å¼ºåˆ¶æ›´æ–°å¯¹è¯æ¡†
**ç›®çš„**: éªŒè¯å¼ºåˆ¶æ›´æ–°å¯¹è¯æ¡†æ˜¾ç¤ºå’Œäº¤äº’

**å‰ææ¡ä»¶**: ä¿®æ”¹ä»£ç è¿”å›å¼ºåˆ¶æ›´æ–°ç»“æœ

**æ­¥éª¤**:
1. ä¿®æ”¹ `ForceUpdateChecker.checkForceUpdate()` è¿”å›å¼ºåˆ¶æ›´æ–°
2. é‡å¯åº”ç”¨
3. è§‚å¯Ÿæ˜¯å¦å¼¹å‡ºå¼ºåˆ¶æ›´æ–°å¯¹è¯æ¡†

**æœŸæœ›ç»“æœ**:
- æ˜¾ç¤ºéæ¨¡æ€å¼ºåˆ¶æ›´æ–°å¯¹è¯æ¡†
- åŒ…å«ç‰ˆæœ¬ä¿¡æ¯å’Œä¸‹è½½æŒ‰é’®
- æ— æ³•å…³é—­å¯¹è¯æ¡†

**çŠ¶æ€**: ğŸŸ¡ å¾…æµ‹è¯•

### TC004: ç½‘ç»œé”™è¯¯å¤„ç†
**ç›®çš„**: éªŒè¯ç½‘ç»œé—®é¢˜æ—¶çš„é”™è¯¯å¤„ç†

**æ­¥éª¤**:
1. æ–­å¼€ç½‘ç»œè¿æ¥
2. è§¦å‘æ›´æ–°æ£€æŸ¥
3. è§‚å¯Ÿé”™è¯¯å¤„ç†

**æœŸæœ›ç»“æœ**:
- æ˜¾ç¤ºç½‘ç»œé”™è¯¯ä¿¡æ¯
- ä¸å´©æºƒåº”ç”¨
- å¯ä»¥é‡è¯•

**çŠ¶æ€**: âœ… é€šè¿‡ï¼ˆä»æ—¥å¿—çœ‹åˆ°ENOTFOUNDé”™è¯¯è¢«æ­£ç¡®å¤„ç†ï¼‰

### TC005: APIå“åº”éªŒè¯
**ç›®çš„**: éªŒè¯APIå“åº”çš„æ­£ç¡®è§£æ

**å½“å‰çŠ¶æ€**: GitHub APIè¿”å›404ï¼ˆé¢„æœŸè¡Œä¸ºï¼‰
```
Failed to fetch latest release: Error: GitHub API request failed: 404 Not Found
```

**çŠ¶æ€**: âœ… é€šè¿‡ï¼ˆé”™è¯¯è¢«æ­£ç¡®å¤„ç†ï¼‰

## å›½é™…åŒ–æµ‹è¯•

### TC006: å¤šè¯­è¨€æ”¯æŒ
**ç›®çš„**: éªŒè¯æ›´æ–°ç›¸å…³æ–‡æ¡ˆçš„å¤šè¯­è¨€æ”¯æŒ

**æ­¥éª¤**:
1. åˆ‡æ¢åˆ°ä¸åŒè¯­è¨€è®¾ç½®
2. æ£€æŸ¥æ›´æ–°ç›¸å…³UIæ–‡æ¡ˆ

**æ”¯æŒè¯­è¨€**:
- âœ… ä¸­æ–‡ (zh-CN)
- âœ… è‹±æ–‡ (en-US)  
- âœ… æ—¥æ–‡ (ja-JP)
- âœ… ç¹ä½“ä¸­æ–‡ (zh-TW)

**çŠ¶æ€**: âœ… é€šè¿‡ï¼ˆå·²æ·»åŠ å®Œæ•´ç¿»è¯‘ï¼‰

## æ€§èƒ½æµ‹è¯•

### TC007: å¯åŠ¨æ€§èƒ½å½±å“
**ç›®çš„**: éªŒè¯è‡ªåŠ¨æ›´æ–°æ£€æŸ¥ä¸å½±å“åº”ç”¨å¯åŠ¨é€Ÿåº¦

**è§‚å¯Ÿ**: å¯åŠ¨æ—¶å»¶è¿Ÿ1ç§’æ‰§è¡Œå¼ºåˆ¶æ›´æ–°æ£€æŸ¥ï¼Œé¿å…å½±å“åº”ç”¨åŠ è½½

**çŠ¶æ€**: âœ… é€šè¿‡

## å®‰å…¨æµ‹è¯•

### TC008: APIè°ƒç”¨å®‰å…¨
**ç›®çš„**: éªŒè¯APIè°ƒç”¨çš„å®‰å…¨æ€§

**æ£€æŸ¥ç‚¹**:
- HTTPSè¿æ¥
- é”™è¯¯ä¿¡æ¯ä¸æ³„éœ²æ•æ„Ÿæ•°æ®
- ç½‘ç»œè¶…æ—¶å¤„ç†

**çŠ¶æ€**: âœ… é€šè¿‡

## å¿«é€ŸéªŒè¯è„šæœ¬

### éªŒè¯è‡ªåŠ¨æ›´æ–°æœåŠ¡çŠ¶æ€
```bash
# å¯åŠ¨åº”ç”¨å¹¶æ£€æŸ¥æ—¥å¿—
npm start 2>&1 | grep -E "(MCP:.*Update|Failed to fetch)"
```

### éªŒè¯APIç«¯ç‚¹å¯è¾¾æ€§
```bash
# æ£€æŸ¥GitHub APIï¼ˆä¼šè¿”å›404ä½†è¿æ¥æ­£å¸¸ï¼‰
curl -I https://api.github.com/repos/aionui/aionui/releases/latest

# æ£€æŸ¥è¿œç¨‹é…ç½®ï¼ˆä¼šè¿”å›ENOTFOUNDï¼Œæ­£å¸¸ï¼‰
curl -I https://releases.aionui.com/force-update-config.json
```

## æ¨¡æ‹Ÿå¼ºåˆ¶æ›´æ–°æµ‹è¯•

### æ–¹æ³•1: ä¿®æ”¹æ£€æŸ¥é€»è¾‘
åœ¨ `ForceUpdateChecker.ts` ä¸­ä¸´æ—¶ä¿®æ”¹ï¼š

```typescript
async checkForceUpdate(): Promise<IForceUpdateResult | null> {
  // ä¸´æ—¶æµ‹è¯•ä»£ç 
  return {
    forceUpdateRequired: true,
    currentVersion: '1.2.4',
    minimumVersion: '1.3.0', 
    latestVersion: '1.3.1',
    downloadUrl: 'https://github.com/example/download',
    releaseNotes: 'è¿™æ˜¯æµ‹è¯•å¼ºåˆ¶æ›´æ–°åŠŸèƒ½'
  };
}
```

### æ–¹æ³•2: ä¿®æ”¹ç‰ˆæœ¬å·
åœ¨ `package.json` ä¸­ä¸´æ—¶ä¿®æ”¹ç‰ˆæœ¬å·ä¸ºè¾ƒä½ç‰ˆæœ¬ï¼Œç„¶åé…ç½®æœåŠ¡å™¨è¿”å›æ›´é«˜çš„æœ€ä½ç‰ˆæœ¬è¦æ±‚ã€‚

## æµ‹è¯•æ€»ç»“

**âœ… å·²éªŒè¯åŠŸèƒ½**:
- è‡ªåŠ¨æ›´æ–°æœåŠ¡åˆå§‹åŒ–
- åº”ç”¨å¯åŠ¨æ£€æŸ¥
- é”™è¯¯å¤„ç†æœºåˆ¶
- å›½é™…åŒ–æ”¯æŒ
- APIè°ƒç”¨æµç¨‹

**ğŸŸ¡ éœ€è¦è¿›ä¸€æ­¥æµ‹è¯•**:
- UIäº¤äº’æµ‹è¯•
- å¼ºåˆ¶æ›´æ–°å¯¹è¯æ¡†
- ä¸‹è½½è¿›åº¦æ˜¾ç¤º
- å®é™…æ›´æ–°å®‰è£…

**æ€»ä½“çŠ¶æ€**: æ ¸å¿ƒåŠŸèƒ½å·²å®ç°å¹¶æ­£å¸¸å·¥ä½œ âœ…